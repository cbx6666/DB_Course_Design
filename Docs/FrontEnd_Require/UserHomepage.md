# 用户首页说明文档

### 页面描述

页面有固定顶栏，固定顶栏提供切换页面功能以及显示logo
- 顶栏有搜索框以及个人信息按钮
    - **搜索栏:** 可以输入美食以及商家的名字，搜索得到相关结果
    - **个人信息按钮:** 点击后会展开右边侧栏，显示**个人信息简介，以及收货地址**等等入口

页面一共分为四个主要板块
- **首页:** 显示食物分类，以及推荐商家和当前活动。页面最上方有主banner，提供立即点餐按钮，点击后会跳转到商家页面
- **推荐:** 利用算法，从附近的商家中获得商品的详细信息并展示出来，显示**商品名，价格，介绍，商店评分以及月销售量**等信息
- **商家:** 分为两个部分，左边是筛选栏，可以通过餐品分类，配送范围以及商家评分等进行筛选。右边是各种店铺的简要介绍
- **订单:** 可以显示用户的历史订单，分为待付款，配送中以及已完成三个状态。
    - 配送中的订单能够`查看配送的物流信息`
    - 待付款的订单提供`点击付款`的按钮
    - 已完成的订单提供`立即评价`的按钮


- **页面路径:** `/user`

### 页面功能点

- 点击个人按钮，信息栏会从右边滑出
- 点击logo会回到首页
- 进入搜索栏时，会显示边框
- 鼠标悬停时有相应显示

---

### 调用接口

**1. 推荐接口**

- 用来获得推荐商家的信息

- **算法:** 从评分最靠前的若干店铺中，随机选择4个

- 获得信息说明

| 字段名   |  类型  | 说明   |
| -------- | ----- | ----- |
| recomStores | showStore[] | 推荐商店数组 |

- 以下为每个元素`showStore`的内容

| 字段名   |  类型  | 说明   |
| -------- | ----- | ----- |
| id | number | 店铺编号 |
| image | string | 店铺头像 |
| averageRating | number | 店铺均分 |
| name | string | 店铺名字 |
| monthlySales | number | 店铺月销售量 |

- 接口地址: `GET /api/user/home/recommend`

**2. 搜索接口**

- 用来获得搜索商家的信息

- **算法:** 根据前端输入的信息，进行匹配，返回所有相关的店铺

- 输入表单说明

| 字段名   | 类型   | 是否必填 | 说明 |
| -------- | ------ | -------- | ----- |
| userId | int | 是 | 消费者编号 |
| address | string | 是 | 消费者地址 |
| keyword | string | 是 | 输入搜索信息 |

- 获得信息说明

| 字段名   |  类型  | 说明   |
| -------- | ----- | ----- |
| searchStores | showStore[] | 商店数组 |

- 以下为每个元素`showStore`的内容

| 字段名   |  类型  | 说明   |
| -------- | ----- | ----- |
| id | number | 店铺编号 |
| image | string | 店铺图片 |
| averageRating | number | 店铺均分 |
| name | string | 店铺名字 |
| monthlySales | number | 店铺月销售量 |

- 接口地址: `GET /api/user/home/search`

**3. 订单接口**

- 用来获取用户历史订单数据

- 输入表单说明

| 字段名   | 类型   | 是否必填 | 说明 |
| -------- | ------ | -------- | ----- |
| userId | int | 是 | 消费者编号 |

- 获得信息说明

| 字段名       | 类型        | 说明                                           |
| ------------ | ----------- | ---------------------------------------------- |
| orderID      | number      | 订单编号                                       |
| paymentTime  | string      | 支付时间                                      |
| cartID       | number      | 对应购物车编号                                 |
| storeID      | number      | 店铺编号                                       |
| storeImage   | string      | 店铺封面图片 URL                               |
| storeName    | string      | 店铺名称                                       |
| dishImage    | string[]    | 已购商品图片列表，每个元素为商品图片 URL       |
| totalAmount  | number      | 订单的总金额        |
| orderStatus  | number      | 订单的状态(待数据库添加)        |

- 接口地址: `GET /api/user/home/orders`

**4. 用户信息接口**

- 用来获取用户的信息

- 输入表单说明

| 字段名   | 类型   | 是否必填 | 说明 |
| -------- | ------ | -------- | ----- |
| userId | int | 是 | 消费者编号 |

- 获得信息说明

| 字段名       | 类型        | 说明           |
| ------------ | ----------- | -------------- |
| name         | string      | 用户昵称       |
| phoneNumber  | number      | 用户电话号码   |
| image        | string      | 用户头像 URL   |

- 接口地址: `GET /api/user/home/userInfo`

**5. 优惠券接口**

- 用来查询用户优惠券

- 输入表单说明

| 字段名   | 类型   | 是否必填 | 说明 |
| -------- | ------ | -------- | ----- |
| UserId | int | 是 | 消费者编号 |

- 获得信息说明

| 字段名          | 类型        | 说明                          |
| --------------- | ----------- | ----------------------------- |
| couponID        | number      | 优惠券编号                    |
| couponState     | number      | 优惠券状态 |
| orderID         | number      | 关联订单编号（若未使用则可能为空或 0） |
| couponManagerID | number      | 发放优惠券的管理员或活动编号 |
| minimumSpend    | number      | 使用该优惠券的最低消费金额  |
| discountAmount  | number      | 优惠金额                      |
| validTo         | string      | 优惠券有效期截止日期 |

- 接口地址: `GET /api/user/home/couponInfo`

---

### UI设计稿
- 设计链接：https://readdy.link/share/04159ba5e060f0d7571b854b505c7778